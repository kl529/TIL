# 새로 알게 된 정보

## Python
  - `TypeError: 'module' object is not callable` 이 에러가 뜨면 모듈이 없다는 뜻이니, __init__.py에 모듈(class)을 추가해주자 

## Flask_WTF ListField
  ```
  class MultiFlaskFormObjectJSONFields(Field):
    def process_formdata(self, valuelist):
        self.data = []
        try:
            self.data = [json.loads(value) for value in valuelist]
        except:
            pass


class MultiFlaskFormObjectFields(Field):
    def process_formdata(self, valuelist):
        self.data = []
        try:
            self.data = [value for value in valuelist]
        except:
            pass
  ```

## Flask Alchemy
  - session.add()는 트랜잭션 작업 등록
  - session.flush()는 DB에 전달하는 것

  - 정리 : session 객체는`session.add()`로 트랜잭션 작업을 등록하지만 `session.flush()` 가 호출되기 전까지는 DB에 전달하지 않은 상태다. `session.flush()` 는 DB의 트랜잭션 buffer에 일련의 작업(insert, update, delete)을 전달한다. DB가 현재 트랜잭션에 대한 `commit( session.commit())`을 받을 때까지 다른 트랜잭션들에게 보여지거나 디스크에 영구 유지되지 않는다.

  - 결론 : 

    - **add**  : session에 인스턴스를 배치하는 데 사용합니다. 그리고 다음 flush 시에 INSERT가 발생합니다.
    - **flush**  : 트랜잭션을 데이터베이스로 전송합니다. 아직 커밋되지 않은 상태입니다. (영구적이지 않고 취소 할 수 있음)
    - **commit**  : 트랜잭션을 커밋합니다. 내부적으로 항상 flush()를 실행해서 트랜잭션을 flush 합니다. sessionmaker에서 설정된 autoflush 여부와 상관없습니다. (commit 영구적이지만 데이터베이스에 마지막 커밋을 실행 취소하도록 요청할 수 없음)
    - Commit을 실행하면, 자동적으로 flush가 실행된다.
