# Q.  deadlock 예방하는 방법과 deadlock 해결 방법을 설명하시오   (⭐⭐)

## 나의 답변

### deadlock 해결 방법
- 교착상태 예방 / 회피 -> 교착 상태가 되지 않도록 함
- 교챡상태 탐지 / 복구 -> 교착 상태가 탐지되면 시스템에 문제가 발생하지 않도록 조치를 취함
- 교착상태 무시

### 1. deadlock 예방
교착상태는 상호배제 / 점유 및 대기 / 비선점 / 순환대기가 모두 만족해야하니, 그 중한개라도 부정하면 예방가능
- 상호배제 부정 -> 읽기 전용파일과 같은 공유자원을 사용
- 점유 및 대기 부정 -> 필요한 모든 자원을 할당, 자원을 점유하지 않고 있을 때에만 다른 자원 요청 가능
- 비선점 부정 -> 선점을 허용
- 순환 대기 부정 -> 자원에 고유한 번호를 할당하고, 순서대로 자원을 요구

### 2. deadlock 회피
교착 상태 회피는 교착 상태가 발생하기 전에 교착 상태를 예상하여 안전한 상태(safe state)에서만 자원 요청을 허용하는 방법
- 프로세스 수가 고정되어 있어야 한다.
- 자원의 종류와 수가 고정되어 있어야 한다.
- 프로세스가 요구하는 자원 및 최대 자원의 수를 알아야 한다.
- 프로세스는 반드시 자원을 사용 후 반납해야 한다.

위의 4개 조건이 필요해서 현실성이 떨어짐
- 자원할당 알고리즘
- 은행원 알고리즘

### 3. deadlock 탐지
교착 상태 탐지는 탐지 알고리즘을 사용하여 교착상태가 발생했는지 탐지합니다. 이 방식은 지속적으로 확인하는 작업이 필요하기 때문에 성능 저하가 발생하게 됩니다.
- 대기 그래프
- 은행원 알고리즘

### 4. deadlock 복구
교착 상태가 발생했다면 교착 상태를 일으킨 프로세스를 종료하거나, 할당된 자원을 해제함으로써 복구를 합니다.
- 프로세스 종료
- 자원 선점
